Итак, сдесь я опишу как работает модуль.

Все конечные утилиты и файлы собраны в директории toolkit, там же хранится bash-скрипт toolkit.sh который запускает утилиты в правильном порядке. Сейчас я опишу эту последовательность действий.

1. Файл raw.csv - это запись логического анализатора напрямую с шины CAN. Его мы копируем рядом с программой converter.
2. Запускаем converter. Он преобразует raw.csv в stream.csv файл с численным представлением компонетт сил и моментов а также временем прихода пакета по CAN (нужно только для построения графика).
3. Запускаем context. Он берет 51 строку в файле stream.csv и считает их значениями начального смещения ("нуля") датчика. И формирует файл context.csv с данными об инструменте. В данном тестовом варианте он считает инструмент невесомым и соответственно вес и моменты равны нулю.
4. Запускаем calc. Он берет данные из context.csv и stream.csv и формирует выходной файл output.csv с компенсированными компонентами сил и моментов.
5. Запускаем plot_before и plot_after, которые соответственно строят графики из stream.csv и output.csv с помощью gnuplot.

calc состоит из нескольких подмодулей:
1. context - читает файл context.csv и записывает данные из него в структуру Context
2. stream - читает файл stream.csv и записывает данные из него в структуру Stream
3. calc - передает вышеназванные структуры в функцию преобразования, которая записывает преобразованные данные в структуру Clear
4. ouput - выводит данные из структуры Clear в файл output.csv

== Что требуется для интеграции ==
1. Уметь формировать файл context.csv по результатам тестов (как - описанно ниже)
2. Вызывать функцию Calc в реальном времени по запросу и передавать ей описанные структуры

== Тесты ==

1. Инструмент переводится в положение вертикально вверх. Данные, снимаемые с датчика усредняются и записавыются в файл context.csv в следующем порядке:
Fx --> Fx0
Fy --> Fy0
Ty --> tmp (внешняя переменная)
Tz --> Tz0

2. Инструмент поворачивается вокруг оси Y на 90 градусов (ось X направленна вверх). Данные, снимаемые с датчика усредняются и записавыются в файл context.csv в следующем порядке:
Fx - Fx0 --> P
Fz --> Fz0
Tx --> Tx0
Tz - Tz0 --> Cz

3. Инструмент поворачивается вокруг оси Z на 90 градусов (ось Y направленна вверх). Данные, снимаемые с датчика усредняются и записавыются в файл context.csv в следующем порядке:
Ty --> Ty0
tmp - Ty0 --> Cy
Tx - Tx0 --> Cx
